<c-row class="n5">
    <!--Seetings Dropdown button-->
    <c-col xs="1">
        <c-dropdown>
            <button cButton cDropdownToggle color="secondary" variant="outline">
                <svg cIcon name="cilSettings"></svg>
            </button>
            <div cDropdownMenu>
                <button cButton color="" variant="outline" (click)="openMessages()"
                    *ngIf="item.submissionType ==='Electronic'">
                    <svg cIcon name="cilChatBubble"></svg> Messages
                </button>
                <button cButton color="" variant="outline" (click)="resend()">
                    <svg cIcon name="cilSend"></svg> Resend
                </button>
                <button cButton color="" variant="outline" (click)="correctClaim()">
                    <svg cIcon name="cilPaperclip"></svg> Correct
                </button>
                <hr cDropdownDivider>
                <button cButton color="" variant="outline" (click)="downloadCMS()">
                    <svg cIcon name="cibAdobeAcrobatReader"></svg> Download
                </button>
            </div>
        </c-dropdown>
    </c-col>
    <!--Submission Details-->
    <c-col xs="9">
        <div class="fs-5" style="margin-left: -2%;"><strong>Submission ID : </strong> {{item.submissionId}}</div>
        <div class="fs-6"><strong>To : </strong> {{item.insuranceCompany}}</div>
        <div class="fs-6" style="margin-left: -1%;"><strong>Submit Date : </strong> {{item.submitDate |
            date:'MM/dd/yyy hh:mm a'}}</div>
        <div class="fs-6" style="margin-left: -1%;"><strong>Client :
            </strong>{{item.client.lastName}},{{item.client.firstName}}</div>
        <div class="fs-6" style="margin-left: -1%;"><strong>Provider : </strong>{{item.provider}}</div>
    </c-col>
    <!--Service Dates Details-->
    <c-col xs="2">
        <div class="overflow-auto" style="max-width: 260px; max-height: 100px;">
            <ul cListGroup>
                <li cListGroupItem [active]="true" style="line-height:30%"
                    [ngStyle]="{'background-color': getColor(item.submissionStatus), 'border-color': getColor(item.submissionStatus), 'color':'black'} ">
                    <div class="fs-6">Service Dates</div>
                </li>
                <button *ngFor="let session of item.sessionCounts" cListGroupItem
                    class="d-flex justify-content-between align-items-center" (click)="openSession(session)">
                    {{session.dateOfService |date :'MM/dd/YYYY'}}
                    <c-badge color="info" shape="rounded-pill">{{session.serviceLines}}</c-badge>
                </button>
            </ul>
        </div>
    </c-col>
</c-row>
<c-modal id="showMessages" [visible]="showMessagesVisibility" size="lg" backdrop="static" scrollable="">
    <c-modal-header>
        <button cButtonClose (click)="toggle('messages')" cBonuttClose></button>
    </c-modal-header>
    <c-modal-body>
        <show-claim-messages [submissionID]="item.submissionId" *ngIf="showMessagesVisibility"
            (changeVisibility)="changeVisibility($event)">
        </show-claim-messages>
    </c-modal-body>
</c-modal>
<c-modal id="showCorrectClaimActions" [visible]="showCorrectClaimActionVisibility" size="xl" backdrop="static">
    <c-modal-header>
        <button cButtonClose (click)="toggle('correct')" cBonuttClose></button>
    </c-modal-header>
    <c-modal-body>
        <correct-claim-action *ngIf="showCorrectClaimActionVisibility" [sessionCounts]="item.sessionCounts"
            (changeVisibility)="changeVisibility($event)" [patient]="item.client"></correct-claim-action>
    </c-modal-body>
</c-modal>
<c-modal id="editSessionitem" [visible]="editSessionVisibility" backdrop="static" size="xl">
    <c-modal-header>
        <button cButtonClose (click)="toggle('session')" cBonuttClose></button>
    </c-modal-header>
    <c-modal-body>
        <app-patient-session-edit #patientSessionEditComponent *ngIf="editSessionVisibility"
            (changeVisibility)="changeVisibility($event)"></app-patient-session-edit>
    </c-modal-body>
</c-modal>

<c-modal id="resend" [visible]="resendVisibility" backdrop="static" size="xl">
    <c-modal-header>
        <button cButtonClose (click)="toggle('resend')" cBonuttClose></button>
    </c-modal-header>
    <c-modal-body>
        <resend-claim [submissionId]="item.submissionId" [insuranceCompany]="item.insuranceCompany"
            *ngIf="resendVisibility" [patientId]="item.client.id"
            (changeVisibility)="changeVisibility($event)"></resend-claim>
    </c-modal-body>
</c-modal>