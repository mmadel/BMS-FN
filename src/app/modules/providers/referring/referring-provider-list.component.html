<c-container [fluid]="true">
    <c-row>
        <c-col xs="12">
            <h1>Referring Provider List</h1>
        </c-col>
    </c-row>
    <hr />
    <c-row>
        <c-col xs="12">
            <div style="float:right;">
                <c-button-group aria-label="Basic outlined example" role="group">
                    <button cButton color="primary" variant="outline" (click)="toggleReferringProviderCreation()">
                        Add Referring Provider
                    </button>
                    <button cButton color="primary" variant="outline">
                        Upload CSV
                    </button>
                </c-button-group>
            </div>
        </c-col>
        <c-col xs="12">
            <c-smart-table [activePage]="3" [columnSorter]="true" [columns]="columns" [columnFilter]="true"
                [itemsPerPageSelect]="true" [itemsPerPage]="5" [items]="usersData"
                [sorterValue]="{ column: 'name', state: 'asc' }"
                [tableProps]="{ hover: true, striped: true, responsive: true }" [tableBodyProps]="{ align: 'middle' }"
                cleaner header pagination>
                <ng-template cTemplateId="tableDetails" let-item="item">
                    <div>
                        <div [visible]="this.details_visible[item._id]===true" cCollapse class="card-body">
                            <h5>{{item['name']}}</h5>
                            <p class="text-muted">User since: {{item['registered']}}</p>
                            <button cButton color="info" size="sm">
                                User Settings
                            </button>
                            <button cButton class="ms-1" color="danger" size="sm">
                                Delete
                            </button>
                        </div>
                    </div>
                </ng-template>
                <ng-template cTemplateId="tableData" let-columnName="columnName" let-item="item"
                    let-tdContent="tdContent">
                    <td>
                        <ng-container [ngSwitch]="columnName">
                            <ng-container *ngSwitchCase="'edit'" class="py-2">
                                <button cButton color="primary" size="sm" variant="outline" cTooltipPlacement="top"
                                    cTooltip="Attach file to client profile">
                                    <svg cIcon class="me-2" name="cilPen"></svg>
                                </button>
                            </ng-container>
                            <ng-container *ngSwitchCase="'delete'" class="py-2">
                                <button cButton color="primary" size="sm" variant="outline" cTooltipPlacement="top"
                                    cTooltip="Attach file to client profile">
                                    <svg cIcon class="me-2" name="cilTrash"></svg>
                                </button>
                            </ng-container>
                            <ng-container *ngSwitchDefault>
                                {{tdContent}}
                            </ng-container>
                        </ng-container>
                    </td>
                </ng-template>
            </c-smart-table>
        </c-col>
    </c-row>
</c-container>
<c-modal id="AppointmentAction" [visible]="referringProviderCreationVisibility">
    <c-modal-header>
      <h5 cModalTitle>Referring Provider Creation</h5>
      <button (click)="toggleReferringProviderCreation()" cButtonClose></button>
    </c-modal-header>
    <c-modal-body>
        <app-referring-provider-create (changeVisibility)="changeVisibility($event)"></app-referring-provider-create>
    </c-modal-body>
  </c-modal>