<c-container [fluid]="true">
    <c-card class="mb-3">
        <c-card-header>
            <h5>Billing And Coding</h5>
        </c-card-header>
        <c-card-body>
            <div class="mb-3">
                <c-row class="mb-1">
                    <c-col>
                        <select cSelect sizing="sm" [(ngModel)]="billingCode.placeOfCode">
                            <option [value]=null selected disabled>Select Place Code</option>
                            <option *ngFor="let placeOfCodevalue of placeOfCodeKeys(placeOfCodes)"
                                [ngValue]="placeOfCodevalue">
                                {{placeOfCodes[placeOfCodevalue]}}
                            </option>
                        </select>
                    </c-col>
                </c-row>
                <c-row class="mb-1">
                    <c-col>
                        <select cSelect sizing="sm" [(ngModel)]="billingCode.facility">
                            <option [value]=null selected disabled>Select Facility</option>
                            <option [value]="'clinic-a'">clinic-a</option>
                            <option [value]="'clinic-b'">clinic-b</option>
                        </select>
                    </c-col>
                </c-row>
                <c-row class="mb-1">
                    <c-col>
                        <input cFormControl name="icd10diagnosis" [formControl]="diagnosisCtrl"
                            placeholder="Type ICD-10 Code" sizing="sm"/>
                    </c-col>
                </c-row>
                <c-row>
                    <span align="center" *ngIf="isLoading">
                        <c-spinner variant="grow"></c-spinner>
                    </span>
                    <span *ngIf="!isLoading">
                        <c-col>
                            <select cSelect class="mb-2" (valueChange)="addICD10diagnosis($event)"
                                visibleItems="20" placeholder="Select ICD-10 Code Description"
                                [(ngModel)]="billingCode.diagnosisCode.diagnosisDescription">
                                <option *ngFor="let option of filteredDiagnosis">
                                    {{ option}}
                                </option>
                            </select>
                        </c-col>
                    </span>
                </c-row>
            </div>
            <div style="float:right">
                <button cButton color="primary" variant="outline" size="sm">Add Code</button>
            </div>
            <div>
                <c-row>
                    <c-col>
                        <table cTable hover>
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Code</th>
                                    <th scope="col">LineNote</th>
                                    <th scope="col">Unit</th>
                                    <th scope="col">Charge</th>
                                    <th scope="col"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th scope="row">1</th>
                                    <td>939.39.GP.59</td>
                                    <td></td>
                                    <td>2</td>
                                    <td>120.0</td>
                                    <td>
                                        <button cButton variant="outline" class="btn-sm">
                                            <svg cIcon name="cilPen"></svg>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">2</th>
                                    <td>3930.23.GP.59</td>
                                    <td></td>
                                    <td>1</td>
                                    <td>110.0</td>
                                    <td>
                                        <button cButton variant="outline" class="btn-sm">
                                            <svg cIcon name="cilPen"></svg>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">3</th>
                                    <td>2420.13.GP.59</td>
                                    <td></td>
                                    <td>3</td>
                                    <td>300.0</td>
                                    <td>
                                        <button cButton variant="outline" class="btn-sm">
                                            <svg cIcon name="cilPen"></svg>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </c-col>
                </c-row>
            </div>
        </c-card-body>
    </c-card>
</c-container>